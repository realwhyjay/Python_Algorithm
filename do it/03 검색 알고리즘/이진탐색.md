# Do it! 알고리즘 입문 : 이진 검색

#### Date : 21/05/03

#### Lang : Python

## Question (p. 120 ~ p.125)

원소가 오름차순이나 내림차순으로 정렬된 배열에서 좀 더 효율적으로 검색할 수 있는 알고리즘을 구현한지 맨 앞부터 스캔하여 순서대로 검색하는 알고리즘을 구현한다.  
입력 값 : 입력받을 원소의 수와 원소의 값들. 검색할 키 값
출력 값 : 검색할 값이 위치한 인덱스 값. (찾는 값이 없는 경우 '검색값이 존재하지 않음을 출력')

## 답안 

```python
from typing import Any, Sequence


def bin_search(a: Sequence, key: Any) -> int:
    """시퀀스 a에서 key와 일치하는 원소를 이진검색 """
    pl = 0           # 검색 범위 맨 앞 원소의 인덱스
    pr = len(a) - 1  # 검색 범위 맨 끝 원소의 인덱스

    while True:
        pc = (pl+pr) // 2  # 중앙 원소의 인덱스
        if a[pc] == key:
            return pc   # 검색 성공
        elif a[pc] < key:
            pl = pc + 1  # 검색 범위를 뒤쪽 절반으로 좁힘
        else:
            pr = pc-1  # 검색 범위를 앞쪽 절반으로 좁힘
        if pl > pr:
            break
    return -1  # 검색 실패


if __name__ == '__main__':
    num = int(input('원소 수를 입력하세요.:'))
    x = [None] * num        # 원소 수가 num인 배열을 생성

    print('배열 데이터를 오름차순으로 입력하세요.')

    x[0] = int(input('x[0]: '))

    for i in range(1, num):
        while True:
            x[i] = int(input(f'x[{i}]: '))
            if x[i] >= x[i-1]:  # 바로 직전에 입력한 원솟값보다 큰 값을 입력
                break

    ky = int(input('검색할 값을 입력하세요: '))  # 검색할 키값 ky를 입력

    idx = bin_search(x, ky)

    if idx == -1:
        print('검색값을 갖는 원소가 존재하지 않습니다.')
    else:
        print(f'검색값은 x[{idx}]에 있습니다.')

```

이진 검색에서는 주목할 원소의 검색 범위가 거의 절반쯤 줄어든다.  
중앙 원소의 인덱스를 key값과 비교하여 key 값이 중앙 원소의 인덱스 값보다 큰 경우에는,  
중앙원소보다 작은 값은 모든 값은 검색 범위에서 제외되며,  
 key 값이 중앙 원소의 인덱스 값보다 작은 경우에는 중앙원소보다 큰 값이 모든 값은 검색 범위에서 제외된다.

선형 검색의 시간 복잡도는 O(n)이지만, 이진 검색의 시간 복잡도는 O(log n)으로 더욱 효율적이다.  


